"use strict";
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const path = __importStar(require("path"));
const vscode = __importStar(require("vscode"));
function getApiAsync(currentExtensionContext) {
    const intelliCodeExtension = vscode.extensions.getExtension("ms-vsintellicode.ms-vsintellicode");
    if (intelliCodeExtension) {
        return intelliCodeExtension.activate().then((extensionApi) => {
            if (extensionApi) {
                const intelliCodeApiVersion = require(path.join(__dirname, "package.json")).version;
                return extensionApi.getApiAsync(currentExtensionContext, intelliCodeApiVersion);
            }
            else {
                return null;
            }
        }).catch(() => {
            vscode.window.showInformationMessage("Couldn't access IntelliCode API from extension");
            return null;
        });
    }
    return Promise.resolve(null);
}
exports.getApiAsync = getApiAsync;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidnNjb2RlLWludGVsbGljb2RlLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy92c2NvZGUtaW50ZWxsaWNvZGUtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLFlBQVksQ0FBQzs7Ozs7Ozs7O0FBQ2IsMkNBQTZCO0FBQzdCLCtDQUFpQztBQWdCakMscUJBQ0ksdUJBQWdEO0lBR2hELE1BQU0sb0JBQW9CLEdBQVEsTUFBTSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsbUNBQW1DLENBQUMsQ0FBQztJQUN0RyxJQUFJLG9CQUFvQixFQUFFO1FBQ3RCLE9BQU8sb0JBQW9CLENBQUMsUUFBUSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsWUFBbUMsRUFBRSxFQUFFO1lBQ2hGLElBQUksWUFBWSxFQUFFO2dCQUNkLE1BQU0scUJBQXFCLEdBQVcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO2dCQUM1RixPQUFPLFlBQVksQ0FBQyxXQUFXLENBQUMsdUJBQXVCLEVBQUUscUJBQXFCLENBQUMsQ0FBQzthQUNuRjtpQkFBTTtnQkFDSCxPQUFPLElBQUksQ0FBQzthQUNmO1FBQ0wsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRTtZQUNWLE1BQU0sQ0FBQyxNQUFNLENBQUMsc0JBQXNCLENBQUMsZ0RBQWdELENBQUMsQ0FBQztZQUN2RixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDLENBQUMsQ0FBQztLQUNOO0lBQ0QsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2pDLENBQUM7QUFuQkQsa0NBbUJDIn0=