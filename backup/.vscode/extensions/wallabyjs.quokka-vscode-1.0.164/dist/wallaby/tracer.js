/*
 * Wallaby.js - v1.0.632
 * http://wallabyjs.com
 * Copyright (c) 2014-2018 Wallaby.js - All Rights Reserved.
 *
 * This source code file is a part of Wallaby.js and is a proprietary (closed source) software.

 * IMPORTANT:
 * Wallaby.js is a tool made by software developers for software developers with passion and love for what we do.
 * Pirating the tool is not only illegal and just morally wrong,
 * it is also unfair to other fellow programmers who are using it legally,
 * and very harmful for the tool and its future.
 */
!function(e){e.addEventListener&&(e.addEventListener("beforeunload",function(){if(!(e.$_$tracer&&e.$_$tracer._finished||e.navigator&&e.navigator.userAgent&&!/PhantomJS/.test(e.navigator.userAgent)&&!/Electron/.test(e.navigator.userAgent)&&!e.$_$tracer._startRequested))throw new Error("One of your tests is trying to unload window object.")}),e.$_$reportUnhanledPromises&&e.addEventListener("unhandledrejection",function(e){if(e&&e.reason){var t=new Error;throw e.reason.stack&&(t.stack=e.reason.stack),t.message="Unhandled promise rejection: "+(e.reason.message||e.reason),t}}));var t,n=/%[sdj%]/g,i=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/,o=/^(0|[1-9][0-9]*)$/,a=/'([^\\']|\\')*'/;"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(e){var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},o=function(){return n.apply(this instanceof i?this:e||{},t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype||{},o.prototype=new i,o});var r=function(){var t=this;t._noOp=function(){},t._maxLogEntrySize=16384,t._undefined=e.undefined,t._setTimeout=e.setTimeout,t._Date=e.Date,t._Error=e.Error,t._Symbol=e.Symbol,t._JSONStringify=JSON.stringify,t._XMLHttpRequest=e.XMLHttpRequest,t._regExpToString=RegExp.prototype.toString,t._dateToString=Date.prototype.toString,t._HTMLAllCollection=e.HTMLAllCollection,t._getOwnPropertyNames=Object.getOwnPropertyNames,t._getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,t._pauseAfterSingleTestExecution=e.navigator&&e.navigator.userAgent&&/PhantomJS/.test(e.navigator.userAgent),t._replacedConsoleLog=e.console.log=function(){t._suppressConsoleLog||t._doWhenReceiverIsReady(function(e){t._log.apply(t,e)},arguments)},e.console.warn=function(){t._doWhenReceiverIsReady(function(e){t._warn.apply(t,e)},arguments)},e.console.error=function(){t._doWhenReceiverIsReady(function(e){t._error.apply(t,e)},arguments)},e.console.dir=function(){t._doWhenReceiverIsReady(function(e){t._dir.apply(t,e)},arguments)},e.console.debug=function(){t._doWhenReceiverIsReady(function(e){t._debug.apply(t,e)},arguments)},e.console.info=function(){t._doWhenReceiverIsReady(function(e){t._info.apply(t,e)},arguments)},t._receiver=e.$_$receiver||new e.WebSocket("ws://127.0.0.1:"+e.$_$receiverPort),t._onReceiverReady=[function(){t._receiverReady=!0}],t._receiver.onopen=function(){for(var e=0,n=t._onReceiverReady.length;n>e;e++)t._onReceiverReady[e]()},t._receiver.onerror=function(e){throw new Error("Sandbox receiver error: "+e.message)},t.reset()};if(r.prototype={setGlobalErrorHandler:function(){var t=this;e.$_$reuseableTracer||(e.onerror=function(){t._globalBrowserError.apply(t,arguments)})},_globalBrowserError:function(){var e=this;e._doWhenReceiverIsReady(function(t){e._sendBrowserGlobalError.apply(e,t)},arguments)},reportDeclarationError:function(){var e=this;e._doWhenReceiverIsReady(function(t){e._sendDeclarationError.apply(e,t)},arguments)},initialSpecId:function(){return e.$_$initialSpecId},start:function(t){var n=this;if(t||!(n._delayStart||n._startRequested&&!e.$_$reuseableTracer))if(n.reset(),t)this._onStart=t,this._patchFrameworks();else{if(!this._onStart)throw new Error("Missing tracer start subscription");n._startRequested=!0,this._receiverReady?this._onStart():this._onReceiverReady.push(this._onStart)}},isInitialized:function(){return!!e.$_$coverage},statement:function(n,i){e.$_$coverage[n][i][this._spec]=t++},scopeStart:function(e){this._fileEncounter[e]||(this._fileEncounterSequence.push(e),this._fileEncounter[e]=1)},programScopeStartLoading:function(e){this._testFileIds[e]&&this._resetFileData(),this.scopeStart(e)},programScopeEndLoading:function(e){this._testFileIds[e]&&(this._saveCurrentTestLoadingSequence(),this._resetFileData())},_saveCurrentTestLoadingSequence:function(){this._fileEncounterSequence.length&&this._testLoadingSequence.push(this._fileEncounterSequence.slice())},entryFile:function(){return this._fileEncounterSequence[0]},started:function(t){t=t||{},t.loadingSequence=this._testLoadingSequence.slice(),this._resetLoadingData(),this._resetFileData(),e.$_$wp=this._original_$_$wp,e.$_$wpe=this._original_$_$wpe,this._send("started",t)},specStart:function(e,t){var n=this;this._doWhenReceiverIsReady(function(){n._sendWithHighPriority("preTest","string"==typeof t?t:n._format(t))}),this._spec=e,this._resetFileData()},specSyncStart:function(){this._specRangeStart=t},specSyncEnd:function(){this._specRangeEnd=t-1},specEnd:function(){this._spec=0;var e=this._specRangeStart,n=this._specRangeEnd;return this._specRangeStart=0,this._specRangeEnd=0,[e,n||t]},needToNotifySingleTestRun:function(){if(this._paused||this._onResumed||!this.hasSpecFilter()||e.$_$reuseableTracer||!this._pauseAfterSingleTestExecution)return!1;for(var t=e.$_$tests;"*"!==t;){var n=Object.keys(t);if(1!=n.length)return!1;t=t[n[0]]}return!0},notifySingleTestAfterEach:function(t){return this._paused||this._onResumed||e.$_$reuseableTracer?void t():(this._paused=!0,this._onResumed=t,void this._send("resume"))},resume:function(){this._paused&&(this._paused=!1,this._onResumed&&(this._onResumed(),delete this._onResumed))},paused:function(){return this._paused},hasSpecFilter:function(){return!!e.$_$tests&&"*"!==e.$_$tests},specFilter:function(t){var n=e.$_$tests[":?"];if(n&&n[":"+t[t.length-1]])return!0;for(var i=e.$_$tests,o=0,a=t.length;a>o;o++){var r=t[o];if(i=i[":"+r],!i)return!1;if("*"===i)return!0}return!1},complete:function(t){e.$_$coverage&&(this._sendCoverageAndTimeMeasures(),this._send("complete",t),e.$_$reuseableTracer||(this._receiver.close(),this._finished=!0))},intermediateComplete:function(){this._sendCoverageAndTimeMeasures()},_sendCoverageAndTimeMeasures:function(){if(e.$_$coverage){var t,n;for(t=0,n=e.$_$coverage.length;n>t;t++){var i=e.$_$coverage[t];i&&i.length&&this._send("coverage",{id:t,ranges:i})}var o=Object.keys(l._autoTimeHits);for(t=0,n=o.length;n>t;t++){var a=l._autoTimeHits[o[t]];a.fileId&&this._sendLog("autoLog",a.value?this._formatTime(a.value)+"ms":"Σ "+this._formatTime(a.total)+"ms, μ "+this._formatTime(a.total/a.n)+"ms, ⋀ "+this._formatTime(a.min)+"ms, ⋁ "+this._formatTime(a.max)+"ms",a.context,a.fileId,a.rangeId)}}},_formatTime:function(e){return e.toFixed(3)},result:function(t){t.files=this._fileEncounterSequence,e.$_$reuseableTracer&&this._sendWithHighPriority("postTest"),this._send("test",t)},_patchFrameworks:function(){var t=this;if(!t._patchedFrameworks&&!e.$_$reuseableTracer){t._patchedFrameworks=!0;var n=e.requirejs&&"function"==typeof e.requirejs.load,i=e.System&&(e.System.fetch||e.System["import"]);if(t._shouldReportProgramScope=t._shouldReportProgramScope||n||i,n){var o=e.requirejs.load;e.requirejs.load=function(e,n,i){return o.call(this,e,n,t._urlWithFileData(i))}}if(i){var a=e.System.fetch;e.System.fetch=function(){var e=arguments[0]&&arguments[0].address;return e&&(arguments[0].address=t._urlWithFileData(e)),a.apply(this,arguments)};var r=e.fetch;r&&(e.fetch=function(){var e=arguments[0];return e&&(arguments[0]=t._urlWithFileData(e)),r.apply(this,arguments)});var l=e.System["import"];e.System["import"]=function(){var e=arguments[0];return e&&(arguments[0]=t._urlWithFileData(e)),l.apply(this,arguments)}}if(t._XMLHttpRequest){var s=t._XMLHttpRequest.prototype.open;t._XMLHttpRequest.prototype.open=function(e,n){arguments[1]=t._urlWithFileData(n),s.apply(this,arguments)}}t._Error&&!t._Error.captureStackTrace&&e.navigator&&e.navigator.userAgent&&/PhantomJS\/2/.test(e.navigator.userAgent)&&(t._Error.captureStackTrace=function(){})}},_urlWithFileData:function(e){var t=this;if(e&&~e.indexOf("wallabyFileId"))return e;for(var n=[],i=e.replace(/\\/g,"/").split("/"),o=0;o<i.length;o++)"."!==i[o]&&(".."===i[o]&&n.length&&".."!==n[n.length-1]?n.pop():n.push(i[o]));return e=n.join("/"),e=t._appendFileData(e)},_appendFileData:function(t){var n=this,i="/"===t.charAt(0)?t.substr(1):t,o=e.location&&e.location.host&&t.indexOf(e.location.host);o>=0&&(i=i.substr(o+e.location.host.length+1));var a=t.lastIndexOf("?");a>=0&&(i=i.substring(0,a));var r=i&&n._getFileMetadata(i);return r?t+(~a?"&":"?")+r.ts+"&wallabyFileId="+r.id:t},_getFileMetadata:function(t){return e.$_$files[t]||e.$_$files[t.split("\\").join("/")]},_doWhenReceiverIsReady:function(e,t){var n=this;n._receiverReady?e(t):n._onReceiverReady.push(function(){e(t)})},_log:function(){this._sendLog("log",this._format.apply(this,arguments))},_warn:function(){this._sendLog("warn",this._format.apply(this,arguments))},_error:function(){this._sendLog("error",this._format.apply(this,arguments))},_dir:function(e){this._sendLog("dir",this._inspect(e))},_debug:function(e){this._sendLog("debug",this._inspect(e))},_info:function(e){this._sendLog("info",this._inspect(e))},_debugLog:function(){this._sendLog("debugLog",this._format.apply(this,arguments))},_sendBrowserGlobalError:function(e,t,n){e=e&&e.toString()||"",t=t&&t.toString()||"",n=n&&n.toString()||"",this._send("globalError",{message:e,stack:e+"\nat "+t+":"+n})},_sendDeclarationError:function(e){this._send("globalError",{message:e.message,stack:e.stack,declaration:!0})},setEnvGlobal:function(e){this._envGlobal=e},resetEnvGlobal:function(){delete this._envGlobal},debugLog:function(){var e=this;e._doWhenReceiverIsReady(function(t){e._debugLog.apply(e,t)},arguments)},log:function(){var t=this,n=t._replacedConsoleLog!==e.console.log;if(n||t._envGlobal){for(var i=[],o=arguments.length-3,a=0;o>a;a++)i.push(arguments[a]);t._suppressConsoleLog=!0,t._envGlobal&&t._envGlobal.console.log.apply(t._envGlobal.console,i),n&&e.console.log.apply(console,i),t._suppressConsoleLog=!1}t._doWhenReceiverIsReady(function(e){for(var n=[],i=e.length-3,o=0;i>o;o++)n.push(e[o]);var a,r=e[i],l=e[i+1],s=e[i+2],p=l+"-"+s,c=t._consoleHits[p]=t._consoleHits[p]||0;10>c?a=t._evaluateExpressions(p+"-"+c,n[0],r):10===c&&(a=t._evaluateExpressions(p+"-"+c,n[0],r,new Error("Only the first "+c+" values are evaluated"))),t._consoleHits[p]=c+1,t._sendLog("log",t._format.apply(t,n)||"",r,l,s,a)},arguments)},setAssertionData:function(e,t){try{var n=Object.prototype.toString.call(e.actual);e.showDiff===!0&&n==Object.prototype.toString.call(e.expected)&&void 0!==e.expected&&"[object Boolean]"!==n&&"[object Number]"!==n&&"[object Function]"!==n&&("string"!=typeof e.actual&&(e.actual=this._inspect(e.actual,8,1e3,!0),e.expected=this._inspect(e.expected,8,1e3,!0)),t.actual=e.actual,t.expected=e.expected),"UnexpectedError"===e.name&&e.getErrorMessage&&(t.formattedDiff=e.getErrorMessage("ansi").toString()),e.actual&&e.actual.stack&&"string"==typeof e.actual.stack&&(t.stack=t.stack||"",t.stack+="\nFrom actual error object:\n"+e.actual.stack)}catch(i){}return t},diff:function(e,t,n,i,o){var a=this;a._doWhenReceiverIsReady(function(){var r=a.setAssertionData({showDiff:!0,expected:e,actual:t},{});a._sendLog("diff","",n,i,o,void 0,r.expected,r.actual)},arguments)},_sendLog:function(e,t,n,i,o,a,r,l){var s=t?t.length:0;t&&s>this._maxLogEntrySize&&(t=t.slice(0,this._maxLogEntrySize)+"...\n(truncated, total length: "+s+")"),this._send("console",{type:e,text:t||"",valueBag:a,spec:this._spec,file:i,range:o,context:n,expected:r,actual:l})},_send:function(e,t){this._receiver.send(this._JSONStringify(this._createMessage(e,t)))},_createMessage:function(t,n){return{type:t,data:n,session:e.$_$session}},_sendWithHighPriority:function(e,t){if(this._highPriorityReceiver){var n=this._createMessage(e,t);n._p="###wpm###",this._highPriorityReceiver.send(this._JSONStringify(n)+"\n")}else this._send(e,t)},_resetLoadingData:function(){this._testLoadingSequence=this._safeObject([])},_resetFileData:function(){this._fileEncounterSequence=this._safeObject([]),this._fileEncounter=this._safeObject([])},reset:function(){var e=this;t=1,e._formattingOpts={},e._autoConsoleHits={},e._consoleHits={},e._autoTimeHits={},e._spec=0,e._specRangeStart=0,e._specRangeEnd=0,e._resetFileData()},_safeObject:function(e){return e.toJSON=this._undefined,e},_format:function(e){var t,i=this._formattingOpts.depth||2,o=this._formattingOpts.maxElementsPerLevel||5e3;if("string"!=typeof e){var a=[];for(t=0;t<arguments.length;t++)a.push(this._inspect(arguments[t],i,o));return a.join(" ")}t=1;for(var r=arguments,l=r.length,s=1===l?e:String(e).replace(n,function(e){if("%%"===e)return"%";if(t>=l)return e;switch(e){case"%s":return String(r[t++]);case"%d":return Number(r[t++]);case"%j":return JSON.stringify(r[t++]);default:return e}}),p=r[t];l>t;p=r[++t])s+=null===p||"object"!=typeof p?" "+p:" "+this._inspect(p,i,o);return s},_inspect:function(t,n,i,o){var a={seen:[],showHidden:!1,hideTypes:o,depth:n||2,stylize:function(e){return e},maxElementsPerLevel:i||5e3,customInspect:e.$_$reuseableTracer&&this._nodeUtil};return this._formatValue(a,t,a.depth)},_formatValue:function(e,t,n){var i=this,o=this._formatPrimitive(e,t);if(o)return o;if(e.customInspect){var a=i._nodeUtil.inspect&&t[i._nodeUtil.inspect.custom];if(a||t.inspect===i._nodeUtil.inspect||"function"!=typeof t.inspect||(a=t.inspect),"function"==typeof a&&a!==i._nodeUtil.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=a.call(t,n,e);if(r!==t)return"string"!=typeof r?i._formatValue(e,r,n):r}}var l=Object.keys(t),s=this._arrayToHash(l);e.showHidden&&(l=Object.getOwnPropertyNames(t));var p=this._getOwnPropertySymbols(t);if(p.length&&(l=l.concat(p)),0===l.length){if("function"==typeof t){var c=t.name?": "+t.name:"";return e.stylize("[λ"+c+"]","special")}if(this._isRegExp(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(this._isDate(t))return e.stylize(Date.prototype.toString.call(t),"date");if(this._isError(t))return this._formatError(t)}var d="",u=!1,h=!1,m=!1,S=["{","}"],f=t&&t.constructor&&t.constructor.name||void 0;if(("Object"===f||e.hideTypes)&&(f=void 0),this._isArray(t)?(f=void 0,u=!0,S=["[","]"]):this._isSet(t)?h=!0:this._isMap(t)&&(m=!0),"function"==typeof t){var _=t.name?": "+t.name:"";d=" [λ"+_+"]"}if(this._isRegExp(t)&&(d=" "+RegExp.prototype.toString.call(t)),this._isDate(t)&&(d=" "+Date.prototype.toUTCString.call(t)),this._isError(t)&&(d=" "+this._formatError(t)),""===d&&f&&(S[0]=f+("String"!==f&&"Number"!==f&&"Boolean"!==f||"function"!=typeof t.valueOf?"":" "+this._formatPrimitive(e,t.valueOf()))+" "+S[0]),u||!this._isIterator(t)||m||h||(d=" [Iterator] "),!(0!==l.length||u&&0!==t.length||h||m))return S[0]+d+S[1];if(0>n)return this._isRegExp(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var w,y=!1;return l.length>e.maxElementsPerLevel&&(l.length=e.maxElementsPerLevel,u&&t&&(t=t.slice(0,e.maxElementsPerLevel)),y=!0),w=u?this._formatArray(e,t,n,s,l):h?this._formatSet(e,t,n,s,l,y):m?this._formatMap(e,t,n,s,l,y):l.map(function(o){return i._formatProperty(e,t,n,s,o,u)}),y&&w.push("..."),e.seen.pop(),this._reduceToSingleString(w,d,S)},_isArray:function(e){return Array.isArray(e)||"object"==typeof e&&"[object Array]"===this._objectToString(e)},_isSet:function(t){return!!(t&&e.Set&&"[object Set]"===this._objectToString(t)&&t.forEach)},_isMap:function(t){return!!(t&&e.Map&&"[object Map]"===this._objectToString(t)&&t.forEach)},_isIterator:function(t){return!!(t&&e.Symbol&&e.Symbol.iterator&&"function"==typeof t[e.Symbol.iterator])},_isRegExp:function(e){return"object"==typeof e&&"[object RegExp]"===this._objectToString(e)},_isDate:function(e){return"object"==typeof e&&"[object Date]"===this._objectToString(e)},_isError:function(e){return"object"==typeof e&&("[object Error]"===this._objectToString(e)||e instanceof Error)},_objectToString:function(e){return Object.prototype.toString.call(e)},_reduceToSingleString:function(e,t,n){var i=0,o=e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.length+1},0);return o>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]},_formatPrimitive:function(e,t){switch(typeof t){case"undefined":return e.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string");case"number":return e.stylize(""+t,"number");case"boolean":return e.stylize(""+t,"boolean");case"symbol":return this._Symbol&&this._Symbol.prototype.toString.call(t)}return null===t?e.stylize("null","null"):void 0},_formatError:function(e){return"["+Error.prototype.toString.call(e)+"]"},_formatSet:function(e,t,n,i,o,a){var r=this,l=[];t.forEach(function(t){if(!(l.length>e.maxElementsPerLevel)){var i=null===n?null:n-1,o=r._formatValue(e,t,i);l.push(o)}}),!a&&l.length>e.maxElementsPerLevel&&l.push("...");for(var s=0;s<o.length;s++)l.push(r._formatProperty(e,t,n,i,o[s],!1));return l},_formatMap:function(e,t,n,i,o,a){var r=this,l=[];t.forEach(function(t,i){if(!(l.length>e.maxElementsPerLevel)){var o=null===n?null:n-1,a=r._formatValue(e,i,o);a+=" => ",a+=r._formatValue(e,t,o),l.push(a)}}),!a&&l.length>e.maxElementsPerLevel&&l.push("...");for(var s=0;s<o.length;s++)l.push(r._formatProperty(e,t,n,i,o[s],!1));return l},_formatArray:function(e,t,n,i,o){for(var a=this,r=[],l=0,s=t.length;s>l;++l)this._hasOwnProperty(t,String(l))?r.push(this._formatProperty(e,t,n,i,String(l),!0)):r.push("");return o.forEach(function(o){o.toString().match(/^\d+$/)||r.push(a._formatProperty(e,t,n,i,o,!0))}),r},_formatProperty:function(e,t,n,i,o,a){var r,l,s;if(s=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},s.get?l=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(l=e.stylize("[Setter]","special")),this._hasOwnProperty(i,o)||(r="["+o.toString()+"]"),l||(e.seen.indexOf(s.value)<0?(l=null===n?this._formatValue(e,s.value,null):this._formatValue(e,s.value,n-1),l.indexOf("\n")>-1&&(l=a?l.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+l.split("\n").map(function(e){return"   "+e}).join("\n"))):l=e.stylize("[Circular]","special")),"undefined"==typeof r){if(a&&o.match(/^\d+$/))return l;r=this._propertyName(o),r=e.stylize(r,"string")}return r+": "+l},_arrayToHash:function(e){var t={};return e.forEach(function(e){t[e]=!0}),t},_hasOwnProperty:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},_getOwnPropertySymbols:function(e){return Object.getOwnPropertySymbols(e)?Object.getOwnPropertySymbols(e):[]},_propertyName:function(e){if(e.match(/^\d+$/))return e;var t=JSON.stringify(""+e);return t=t.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?t.substr(1,t.length-2):t.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")},_evaluate:function(e,t,n,i,o){var a={};try{var r=n||{};if(r.props=r.props!==this._undefined?r.props:100,r.elements=r.elements!==this._undefined?r.elements:100,r.depth=r.depth!==this._undefined?r.depth:1,r.strLength=r.strLength!==this._undefined?r.strLength:200,r.level=0,r.expId=r.expId||i,r.rootExpression=t,r.node={current:this._undefined,parent:this._undefined,index:0},o){var l={error:o.message};this._processTreeNodeResult(l,r),a.data=l}else a.data=this._traverseObject({},e,r,r.expressionsToEvaluate||{})}catch(s){var p={error:'Error while evaluating "'+t+'": '+(s&&s.message||"")};this._processTreeNodeResult(p,r),a.data=p}return a},_addProperty:function(e,t,n,i,o,a){var r=this;return function(l){var s=o.node.current,p=o.node.index,c=o.node.parent;o.node.parent=s,o.node.index="number"==typeof i?i:l,e.push(r._property(t,n,i,o,a)),o.node.parent=c,o.node.index=p}},_addObjectProperty:function(e,t,n,i,o,a,r){var l=this;return t["_p_"+o.toString()]=!0,function(t){var s=a.node.current,p=a.node.index,c=a.node.parent;a.node.parent=s,a.node.index=t,e.push(l._property(n,i,o,a,r)),a.node.parent=c,a.node.index=p}},_traverseObject:function(t,n,i,o){var a=this;try{i.level++;var r,l,s,p,c,d,u=[],h=[],m=this._type(n),S="array"===m,f="function"===m,_=this._isPrimitiveType(m),w=this._isPrimitiveWrapperType(m),y=_||w,D={},v=0,g=!1;if(i.depth){if(S){d=n.splice(0,n.length),l=d.length;var V=o.ranges||i.ranges;if(V&&V.length===l)u=V.props,this._traverseRanges(u,function(e,t,n){for(r=t;n>=r;r++)h.push(a._addProperty(e.props,d,m,r,i))});else if(l>i.elements)s=0,p=l-1,h.push(function(e,t,n){return function(){u=u.concat(a._createRanges(e,t,n))}}(s,p,i));else for(s=0,p=l,r=s;p>r;r++)h.push(a._addProperty(u,d,m,r,i))}if("null"!==m&&"undefined"!==m&&!_&&"String"!==m&&"Buffer"!==m){var T=o.props||i.props;this._isSet(n)?(r=0,n.forEach(function(e){return v++,v>T?void(g=!0):void h.push(a._addProperty(u,n,"Set",r++,i,function(e){return function(){return e}}(e)))})):this._isMap(n)&&n.forEach(function(e,t){if(v++,v>T)return void(g=!0);var o=a._inspect(t,2,10).replace(/\r?\n|\r/g," ").replace(/\s\s+/g," ");o.length>100&&(o=o.slice(0,100)+"..."),h.push(a._addProperty(u,n,"Map",o,i,function(e){return function(){return e}}(e)))});try{for(c in n){if(v++,v>T){g=!0;break}h.push(a._addObjectProperty(u,D,n,m,c,i))}}catch(R){}if(D._p_length=!0,f&&(D._p_name=!0),!g){var I=this._getOwnPropertyNames(n).concat(this._getOwnPropertySymbols(n));for(r=0,l=I.length;l>r;r++)if(c=I[r],!(n===e&&"wallaby"===c||c.indexOf&&0===c.indexOf("$_$")||D["_p_"+c.toString()])){if(v++,v>T){g=!0;break}h.push(a._addObjectProperty(u,D,n,m,c,i))}}}}t.type=m,y?(t.value=n.valueOf(),this._capIfString(m,t,i,o)):"date"===m?t.value=this._dateToString.call(n):"RegExp"===m?t.value=this._regExpToString.call(n):"symbol"===m&&this._Symbol?t.value=this._Symbol.prototype.toString.call(n):i.depth||"null"===m||"undefined"===m||(delete t.value,t.capped=!0),g&&(t.capped=!0);var b=i.node.current;if(i.node.current=t,this._treeNodePropertiesBeforeFullValue(t,i),h.length)for(r=0,l=h.length;l>r;r++)h[r](r);u.length&&(t.props=u),i.node.current=b}finally{S&&i.depth&&n.splice.apply(n,[0,0].concat(d))}return this._additionalMetadata(n,t),this._treeNodePropertiesAfterFullValue(t,i),i.level--,t},_createRanges:function(e,t,n,i){i=i||{index:0};for(var o=n.elements,a=t-e+1,r=[],l=Math.max(Math.ceil(a/o),o),s=e;t>s;s+=l){var p=s,c=Math.min(s+l-1,t);c+o/2>=t&&(c=t);var d=p+" - "+c,u=c-p+1,h={rangeNode:!0,name:d,props:u>2*o&&o>1?this._createRanges(p,c,n,i):[]};if(this._setNodeId(h,n),this._setNodeLabel(h,n),this._setNodeExpandableState(h,n),this._setNodePermissions(h,n),h.id+=" r "+i.index++,r.push(h),c===t)break}return r},_traverseRanges:function(e,t){for(var n=0,i=e.length;i>n;n++){var o=e[n];if(o.rangeNode=!0,o.props)if(o.props.length)this._traverseRanges(o.props,t);else if(o.props===!0){var a=o.name.split("-");o.props=[],t(o,parseInt(a[0],10),parseInt(a[1],10))}}},_capIfString:function(e,t,n,i){var o=i.strLength||n.strLength;("string"===e||"String"===e)&&t.value&&t.value.length>o&&(t.capped=t.value.substr(0,o),delete t.value)},_property:function(e,t,n,i,o){var a=this;o||(o=function(e,t){return e[t]});var r=n.toString(),l=i.expressionsToEvaluate||{},s=i.depth;try{var p=this._isMap(e),c=r;p&&"'"===c[0]&&(c=c.substr(1,c.length-2));var d=i.expressionsToEvaluate=l["_p_"+c];d&&(i.depth=i.depth+i.level);var u="symbol"==typeof n,h={name:u||p?r:this._propertyName(r)};if(u&&(h.symbol=!0),"array"!==t&&"Error"!==t){var m=this._getOwnPropertyDescriptor(e,n);if(m&&(m.set&&(h.setter=!0),m.get&&!d))return h.getter=!0,this._processTreeNodeResult(h,i),h}var S;try{S=o(e,n)}catch(f){return h={name:r,type:"unknown",error:f.message},this._processTreeNodeResult(h,i),h}var _=this._type(S),w=this._isPrimitiveType(_);return h.type=_,w?this._processTreeNodeResult(h,i,S,function(){h.value=S.valueOf(),!d&&a._capIfString(_,h,i,{})}):i.level<s||d?(this._traverseObject(h,S,i,d||{}),this._additionalMetadata(S,h)):this._processTreeNodeResult(h,i,S,function(){"null"!==_&&"undefined"!==_&&(delete h.value,h.capped=!0)}),h}finally{i.expressionsToEvaluate=l,i.depth=s}},_processTreeNodeResult:function(e,t,n,i){this._treeNodePropertiesBeforeFullValue(e,t),i&&i(),this._additionalMetadata(n,e),this._treeNodePropertiesAfterFullValue(e,t)},_treeNodePropertiesBeforeFullValue:function(e,t){this._setNodeId(e,t),this._setNodeQueryPath(e,t),this._setNodeExpressionPath(e,t),this._setNodePermissions(e,t)},_treeNodePropertiesAfterFullValue:function(e,t){this._setNodeLabel(e,t),this._setNodeExpandableState(e,t),this._sortProps(e,t),this._addFunctionsNode(e,t),this._addLoadNode(e,t),this._cleanNode(e,t)},_additionalMetadata:function(e,t){if(e&&"number"==typeof e.length&&(t.length=e.length),"number"===t.type||"Number"===t.type)if(isNaN(t.value))t.nan=!0,delete t.value;else switch(t.value){case Number.POSITIVE_INFINITY:t.positiveInfinity=!0,delete t.value;break;case Number.NEGATIVE_INFINITY:t.negativeInfinity=!0,delete t.value}else"function"===t.type&&"string"==typeof e.name&&e.name&&t.name&&e.name!==t.name&&(t.funcName=e.name)},_setNodeId:function(e,t){e.id=t.node.parent?t.node.parent.id+" "+t.node.index:t.expId},_sortProps:function(e){e.props&&e.props.length&&"array"!==e.type&&"Map"!==e.type&&"Set"!==e.type&&e.props.sort(function(e,t){var n=e.name.toLowerCase(),i=t.name.toLowerCase();return i>n?-1:n>i?1:0})},_addFunctionsNode:function(e,t){if(e.props&&e.props.length){for(var n=[],i=[],o=0,a=e.props.length;a>o;o++){var r=e.props[o];"function"===r.type?n.push(r):i.push(r)}if(i.length&&!(n.length<=1)){e.props=i;var l={functionsNode:!0,props:n};this._setNodeId(l,t),this._setNodeLabel(l,t),this._setNodeExpandableState(l,t),this._setNodePermissions(l,t),l.id+=" f",e.props.unshift(l)}}},_addLoadNode:function(e,t){if(e.props&&e.props.length&&e.capped&&"string"!==e.type){var n={loadActionNode:!0};this._setNodeId(n,t),this._setNodeQueryPath(n,t),this._setNodeLabel(n,t),this._setNodeExpandableState(n,t),this._setNodePermissions(n,t),n.id+=" l",e.props.push(n)}},_setNodeExpandableState:function(e){(e.capped||e.functionsNode||e.loadActionNode||e.rangeNode||e.getter||this._isArray(e.props))&&(e.expandable=!0)},_setNodePermissions:function(e,t){var n=t.node.parent;e._hasSymbolPropertyOnItsPath=e.symbol||n&&n._hasSymbolPropertyOnItsPath;var i=n&&n._hasSetOnItsPath,o=n&&n._hasMapOnItsPath;e._hasSetOnItsPath="Set"===e.type||i,e._hasMapOnItsPath="Map"===e.type||o;var a=!(e.functionsNode||e.loadActionNode||e.rangeNode||e.error);(!a||e._hasSymbolPropertyOnItsPath||i||o)&&(e.disallowToCopyPath=!0),(!a||e.getter||"function"===e.type||"symbol"===e.type||"Set"===e.type||"Map"===e.type)&&(e.disallowToCopyData=!0)},_cleanNode:function(e){delete e._hasSymbolPropertyOnItsPath,delete e._hasSetOnItsPath,delete e._hasMapOnItsPath},_setNodeExpressionPath:function(e,t){if(!t.node.parent)return void(e.expressionPath=[t.rootExpression]);var n=t.node.parent.expressionPath.slice();e.expressionPath=n.concat([this._propertyAccessor(e.name)])},_propertyAccessor:function(e){return e?e.match(o)?"["+e+"]":e.match(i)?"."+e:e.match(a)?"["+e+"]":"['"+e+"']":""},_setNodeQueryPath:function(e,t){if(!t.node.parent)return void(e.queryPath=[e.id]);var n=t.node.parent.queryPath.slice();if(e.loadActionNode)return void(e.queryPath=n);var i=e.name;"'"===i[0]&&(i=i.substr(1,i.length-2)),e.queryPath=n.concat(["_p_"+i])},_setNodeLabel:function(e,t){return e.label={},e.rangeNode?void(e.label.name=e.name):e.loadActionNode?void(e.label.name="..."):e.functionsNode?void(e.label.name="functions"):(e.label.name=e.name,e.label.type=this._formatNodeType(e,t),void(e.label.value=this._formatNodeValue(e,t)))},_formatNodeValue:function(e,t,n){if(e.rangeNode)return e.name;if(e.error)return e.error;if(e.getter)return"(...)";if("number"===e.type.toLowerCase()){var i=e;if(i.nan)return"NaN";if(i.positiveInfinity)return"Infinity";if(i.negativeInfinity)return"-Infinity"}if("null"===e.type||"undefined"===e.type)return e.type;if("string"===e.type.toLowerCase()){var o=e.capped?e.capped+"...":e.value;return"'"+o.replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'"+(e.capped?" (total length: "+e.length+")":"")}return(this._isUndefined(e.value)?this._formatCompactObjectView(e,t,n):e.value)+(e.funcName?":"+e.funcName:"")},_formatCompactObjectView:function(e,t,n){if("function"===e.type)return"λ";var i="array"===e.type&&0===e.length,o=["array"===e.type?"[":"{","","array"===e.type?"]":"}"];if(n||e.capped||e.ranges)o[1]=i?"":"...";else if(e.props){for(var a=5,r=[],l=[],s=0;s<e.props.length&&l.length<=a;s++){var p=e.props[s];("function"===p.type||p.getter?r:l).push("array"===e.type?this._formatNodeValue(p,t,!0):p.name+": "+this._formatNodeValue(p,t,!0))}l.length<a&&(l=l.concat(r)),o[1]=l.join(", "),e.props.length>a&&(o[1]+=", ...")}return o.join("")},_formatNodeType:function(e){return this._isDisplayableType(e.type)?e.error?"":"date"===e.type?"Date":"array"===e.type?e.length?"Array("+e.length+")":"":e.type:void 0},_isUndefined:function(e){return e===this._undefined},_isDisplayableType:function(e){return!("boolean"===e||"Boolean"===e||"symbol"===e||"string"===e||"String"===e||"number"===e||"Number"===e||"object"===e||"Object"===e||"function"===e||"null"===e||"undefined"===e)},_type:function(e){var t=typeof e;return"object"===t?"[object Array]"===this._objectToString(e)?t="array":"[object Date]"===this._objectToString(e)?t="date":null===e?t="null":e.constructor&&(t=e.constructor.name||t):"undefined"===t&&this._HTMLAllCollection&&e instanceof this._HTMLAllCollection&&(t="HTMLAllCollection"),t},_isPrimitiveType:function(e){return"boolean"===e||"string"===e||"number"===e},_isPrimitiveWrapperType:function(e){return"Boolean"===e||"String"===e||"Number"===e},initLoadingPhase:function(){var t=this;this._resetLoadingData(),delete this._loadingSequence,this._testFileIds=this._safeObject({}),(e.$_$testFiles||[]).forEach(function(e){t._testFileIds[e.id]=1}),t._original_$_$wp=e.$_$wp,t._original_$_$wpe=e.$_$wpe,e.$_$wp=function(e){t._reportProgramScope("programScopeStart",e),t.programScopeStartLoading(e)},e.$_$wpe=function(e){t._reportProgramScope("programScopeEnd",e),t.programScopeEndLoading(e)}},_reportProgramScope:function(e,t){var n=this;this._shouldReportProgramScope&&this._doWhenReceiverIsReady(function(){n._sendWithHighPriority(e,t)})},_looksLikePromise:function(t){return t&&t.constructor&&"Promise"===t.constructor.name&&"function"==typeof t.then&&"function"==typeof t["catch"]&&(e.Promise||{}).prototype!==t},_looksLikeObservable:function(e){return e&&e.constructor&&e.constructor.name&&~e.constructor.name.indexOf("Observable")&&"function"==typeof e.forEach},_looksLikeBuffer:function(t){return t&&t.constructor&&"Buffer"===t.constructor.name&&"function"==typeof t.toString&&(e.Buffer||{}).prototype!==t},_autoLogValue:function(t,n,i,o,a,r,l){var s=this,p=e.$_$session;s._looksLikePromise(a)?a.then(function(a){e.$_$session===p&&s._autoLogResolvedValue(t,n,i,o,"then ",s._valueToFormat(a,r),l)})["catch"](function(a){e.$_$session===p&&s._autoLogResolvedValue(t,n,i,o,"catch ",(a||"<No Reason Provided>").toString(),l)}):s._looksLikeObservable(a)?a.forEach(function(a){e.$_$session===p&&s._autoLogResolvedValue(t,n,i,o,"",s._valueToFormat(a,r),l)}):s._autoLogResolvedValue(t,n,i,o,"",s._valueToFormat(s._looksLikeBuffer(a)?a.toString():a,r),l)},_valueToFormat:function(e,t){return"$_$ne"===t?e:t(e)},_autoLogResolvedValue:function(e,t,n,i,o,a,r){this._formattingOpts={maxElementsPerLevel:r?10:100};var l=this._evaluateExpressions(e+"-"+t+"-"+n,a,i);this._sendLog("autoLog",o+(this._format(a)||""),i,e,t,l),this._formattingOpts={}},_evaluateExpressions:function(e,t,n,i){var o=this._expressionsToEvaluate&&this._expressionsToEvaluate[e],a={expressionsToEvaluate:o};o||(a.depth=0);var r=this._evaluate(t,n,a,e,i);return(r.data||{}).id=e,r}},e.$_$doNotInit)e.$_$Tracer=r;else{var l=new r;l.setGlobalErrorHandler();var s=function(e,t){return t-e};e.performance?l._time=function(){return e.performance.now()}:e.process&&e.process.hrtime?(l._time=function(){return e.process.hrtime()},s=function(e,t){return 1e3*(t[0]-e[0])+(t[1]-e[1])/1e6}):l._time=function(){return+new Date},l._logTime=function(e,t,n,i,o,a,r){var p=s(o,r),c=l._autoTimeHits[n];return c?(c.value&&(c.n=1,c.min=c.value,c.max=c.value,
c.total=c.value,delete c.value),c.min=Math.min(c.min,p),c.max=Math.max(c.max,p),c.total+=p,c.n+=1):l._autoTimeHits[n]={value:p,context:i,fileId:e,rangeId:t},a},e.$_$w=function(e,t){l.statement(e,t)},e.$_$wp=function(e){l._reportProgramScope("programScopeStart",e),l.scopeStart(e)},e.$_$wpe=function(e){l._reportProgramScope("programScopeEnd",e)},e.$_$wf=function(e){l.scopeStart(e)},e.$_$wv=function(e,t,n,i,o,a,r){var s=l._autoConsoleHits[n]||0;return r&&s||(l._doWhenReceiverIsReady(function(){l._autoLogValue(e,t,s,i,o,a,r)},arguments),l._autoConsoleHits[n]=1),o},e.$_$tracer=l,e.$_$coverage=e.$_$coverage||[];var p=function(e){return e.path},c=function(e){return e?e.replace(/\\/g,"/"):e},d=e.$_$testFiles&&(e.$_$testFiles||[]).map(p).map(c),u=e.$_$testFiles&&e.$_$testFiles.filter(function(e){return e.loaded}).map(p);l.initLoadingPhase(),e.wallaby={delayStart:function(){l._patchFrameworks(),l._delayStart=!0},start:function(){l._delayStart=!1,l.start()},_startWhenReceiverIsReady:function(e){l._shouldReportProgramScope=!0,l._doWhenReceiverIsReady(function(){e()})},tests:d,loadedTests:u,baseDir:e.$_$baseDir,slowTestThreshold:e.$_$slow||75}}}(function(){return this}()||global);