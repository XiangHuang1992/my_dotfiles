"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var global_state_1 = require("./global-state");
var debug = require("debug");
var log = debug('tsdi');
function External() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
    }
    var decorate = function (target) {
        log("@External " + target.name);
        global_state_1.addKnownExternal(target);
        var constructor = function InjectedConstructor() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            return target.__tsdi__.configureExternal(args, target);
        };
        constructor.displayName = target.name;
        Object.getOwnPropertyNames(target)
            .filter(function (prop) {
            return prop !== 'name' &&
                prop !== 'length' &&
                prop !== 'caller' &&
                prop !== 'callee' &&
                prop !== 'arguments' &&
                !constructor[prop];
        })
            .forEach(function (prop) { return constructor[prop] = target[prop]; });
        constructor.prototype = target.prototype;
        return constructor;
    };
    if (args.length > 0) {
        return decorate(args[0]);
    }
    return function (target) {
        return decorate(target);
    };
}
exports.External = External;
exports.external = External;
//# sourceMappingURL=external.js.map