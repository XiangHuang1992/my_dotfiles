"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var helper_1 = require("./helper");
var listeners = [];
var knownComponents = [];
var knownExternals = [];
function addKnownComponent(metadata) {
    if (metadata.options.name && helper_1.findIndexOf(knownComponents, function (meta) { return meta.options.name === metadata.options.name; }) > -1) {
        throw new Error("Duplicate name '" + metadata.options.name + "' for known Components.");
    }
    knownComponents.push(metadata);
    listeners.forEach(function (listener) { return listener(metadata); });
}
exports.addKnownComponent = addKnownComponent;
function addKnownExternal(external) {
    if (helper_1.findIndexOf(knownExternals, function (fn) { return fn === external; }) === -1) {
        knownExternals.push(external);
        listeners.forEach(function (listener) { return listener(external); });
    }
}
exports.addKnownExternal = addKnownExternal;
function addListener(listener) {
    listeners.push(listener);
    knownComponents.forEach(function (metadata) { return listener(metadata); });
    knownExternals.forEach(function (external) { return listener(external); });
}
exports.addListener = addListener;
function removeListener(listener) {
    listeners = helper_1.removeElement(listeners, function (l) { return l === listener; });
}
exports.removeListener = removeListener;
//# sourceMappingURL=global-state.js.map