/*
 * Wallaby.js - v1.0.634
 * http://wallabyjs.com
 * Copyright (c) 2014-2018 Wallaby.js - All Rights Reserved.
 *
 * This source code file is a part of Wallaby.js and is a proprietary (closed source) software.

 * IMPORTANT:
 * Wallaby.js is a tool made by software developers for software developers with passion and love for what we do.
 * Pirating the tool is not only illegal and just morally wrong,
 * it is also unfair to other fellow programmers who are using it legally,
 * and very harmful for the tool and its future.
 */
!function e(t,n,i){function o(r,l){if(!n[r]){if(!t[r]){var s="function"==typeof require&&require;if(!l&&s)return s(r,!0);if(a)return a(r,!0);var p=new Error("Cannot find module '"+r+"'");throw p.code="MODULE_NOT_FOUND",p}var c=n[r]={exports:{}};t[r][0].call(c.exports,function(e){var n=t[r][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[r].exports}var a="function"==typeof require&&require;module.exports=o(i[0])}({1:[function(e,t,n){global.wallabyCoreClient=!0,e("./lib/global"),delete global.wallabyCoreClient;var i=e("child_process"),o=e("path"),a=e("http"),r=e("ws"),l=0,s=/^win/.test(process.platform),p=function(){this._killed=!1,this._callbacks=Object.create(null)};p.prototype=_.extend(Object.create(EventEmitter.prototype),{start:function(t){var n=this;this._openedFiles=Object.create(null),this._killed=!1,this._forceKillProcessTimeout=t.forceKillProcessTimeout||1e3,this._nodePath=(process.env.WALLABY_NODE||"node").replace(/^~(?=$|\/|\\)/,process.env.HOME),this._useWsl="true"===process.env.WALLABY_USE_WSL&&s;var a=process.env.PATH||process.env.Path,r=_.extend({},process.env,{PATH:(a?a+o.delimiter:"")+(s?"":"/usr/local/bin")});delete r.NODE_ENV,delete r.NODE_PATH,n._withFreePort(function(a){if(!n._killed){var l=o.join(__dirname,"server.js"),s=t.projectPath,p=t.configPath,c=t.lkp,d=t.fileName||"",u=t.editorTypeScript,h=e("os").homedir(),m=n._nodePath,S=[];if(n._useWsl){var f=process.env.systemRoot+"\\system32\\wsl",w=function(e){if(!e)return e;e=e.replace(/\\/g,"/");var t=i.execSync(f+' wslpath -a "'+e+'"');return _.rtrim(t.toString(),"\n")};l=w(l),s=w(s),p=w(p),c=w(c),u=w(u),h=w(h),S.push(process.env.WALLABY_NODE||"node"),m=f}S=S.concat(["--harmony",l,"extended-core-ws","--projectCachePath="+s,"--configPath="+p,"--lkp="+c,"--client="+t.client,"--phantomjs="+t.phantomPath,"--editorTypeScript="+u,"--port="+a,"--quokka="+d,"--homeDir="+h,"--cv="+t.cv]),n._process=i.spawn(m,S,{env:r,cwd:n._normalizeDriveLetter(t.configPath&&!t.fileName?o.dirname(t.configPath):t.localRoot||t.quokkaFolder)}),n._process.on("error",function(e){e&&e.message&&~e.message.indexOf("spawn "+n._nodePath+" ENOENT")?(n.emit("notification",{type:"error",text:"Can not start node.js process ("+n._nodePath+'), make sure your system has <a href="http://wallabyjs.com/docs/intro/install.html#node-js">node.js installed</a>.'}),n.emit("stopped",{})):n.emit("consoleError",e.stack||e.message)}),n._bufferStream(n._process.stderr,function(e){n.emit("consoleError",e)}),n._bufferStream(n._process.stdout,function(e){e&&(~e.indexOf("wallaby.js started")||~e.indexOf("quokka.js started"))?n._connectToServer(a):n.emit("consoleLog",e)})}})},stop:function(){var e,t=this;try{e=this._process.pid;try{this._send({type:"stop"}),this._ws.close(),this._ws.removeAllListeners("close"),this._ws.removeAllListeners("error")}finally{try{this._process.disconnect()}catch(n){}setTimeout(function(){try{t._isProcessRunning(e)&&process.kill(e)}catch(n){}},t._forceKillProcessTimeout)}}catch(n){}finally{this._killed=!0,this._callbacks=Object.create(null),this._openedFiles=Object.create(null)}},_normalizeDriveLetter:function(e){return"win32"===process.platform&&e&&":"===e[1]?e.charAt(0).toUpperCase()+e.slice(1):e},_isProcessRunning:function(e){try{return process.kill(e,0)}catch(t){return"EPERM"===t.code}},_connectToServer:function(e,t){var n=this;t=t||"localhost",n._ws=new r("ws://"+t+":"+e),n._ws.on("message",function(e){var t=JSON.parse(e),i=n["_"+t.type];i&&i.call(n,t)}),n._ws.on("close",function(e,t){console.log("Disconnected from wallaby core: "+e+(t?", "+t:""))}),n._ws.on("error",function(){n._connectToServer(e,"127.0.0.1")})},_withFreePort:function(e){var t=a.createServer();t.listen(0),t.on("listening",function(){var n=t.address().port;t.once("close",function(){e(n)}),t.close()}),process.nextTick(function(){})},isDisposed:function(){return this._killed},fileChangedInEditor:function(e,t,n,i){this._send({type:"fileChangedInEditor",path:e,content:t,changeFrame:n,transientChange:i})},fileOpenedInEditor:function(e){this._openedFiles[e]=(this._openedFiles[e]||0)+1,this._send({type:"fileOpenedInEditor",path:e})},fileClosedInEditor:function(e){var t=(this._openedFiles[e]||0)-1;this._openedFiles[e]=t,0>t&&console.log("Negative opened editor count for "+e),0===t&&(delete this._openedFiles[e],this._send({type:"fileClosedInAllEditors",path:e}))},expressionsToEvaluate:function(e){this._send({type:"expressionsToEvaluate",request:{expressionsToEvaluate:e}})},copyToClipboard:function(e){this._send({type:"copyToClipboard",request:{data:e}})},muteNotification:function(e){this._send({type:"muteNotification",request:e})},runTests:function(e){this._send({type:"runTests",request:e})},continueTrial:function(){this._send({type:"continueTrial"})},requestUncoveredRegions:function(e,t){this._requestWithCorrelationId("uncoveredRegions",e,t)},requestLineReport:function(e,t){this._requestWithCorrelationId("lineReport",e,t)},requestLocation:function(e,t){this._requestWithCorrelationId("location",e,t)},requestInstrumentedFile:function(e,t){this._requestWithCorrelationId("instrumentedFile",e,t)},requestError:function(e,t){this._requestWithCorrelationId("error",e,t)},_requestWithCorrelationId:function(e,t,n){var i=this,o=++l,a=this._callbacks[o]={done:n};this._send({type:e,request:t,id:o}),a.timeout=setTimeout(function(){delete i._callbacks[o]},5e3)},_responseWithCorrelationId:function(e){var t=this._callbacks[e.id];delete this._callbacks[e.id],t&&(clearTimeout(t.timeout),t.done(e.data))},_bufferStream:function(e,t){var n=this,i="";e.setEncoding("utf8"),e.on("data",function(e){if(!n._killed){i+=e;var o=i.lastIndexOf("\n");~o&&(t(i.substring(0,o+1)),i=i.substring(o+1))}}),e.on("close",function(){n._killed||i.length&&t(i)})},_send:function(e){this._ws&&this._ws.send(JSON.stringify(e))},_started:function(e){this.emit("started",e)},_stopped:function(e){this.emit("stopped",e)},_configChanged:function(e){this.emit("configChanged",e)},_expiredLicense:function(e){this.emit("expiredLicense",e)},_documentUpdates:function(e){this.emit("documentUpdates",e.updates)},_navigationRequested:function(e){this.emit("navigationRequested",e)},_stats:function(e){this.emit("stats",e.data)},_filesToTrack:function(e){this.emit("filesToTrack",e.files)},_live:function(e){this.emit("live",e)},_projectConfigured:function(e){this.emit("projectConfigured",e)},_notification:function(e){this.emit("notification",e.notification)},_consoleOutput:function(e){this.emit("consoleOutput",e.messages)},_busy:function(){this.emit("busy")},_location:function(e){this._responseWithCorrelationId(e)},_error:function(e){this._responseWithCorrelationId(e)},_uncoveredRegions:function(e){this._responseWithCorrelationId(e)},_lineReport:function(e){this._responseWithCorrelationId(e)},_instrumentedFile:function(e){this._responseWithCorrelationId(e)}}),t.exports={Session:p,enums:e("./lib/extension/shared/enums"),utils:e("./lib/extension/shared/utils"),reportBuilder:e("./lib/extension/client/reportBuilder"),dmp:new(e("./lib/diffMatchPatch"))}},{"./lib/diffMatchPatch":2,"./lib/extension/client/reportBuilder":3,"./lib/extension/shared/enums":4,"./lib/extension/shared/utils":5,"./lib/global":6,child_process:void 0,http:void 0,os:void 0,path:void 0,ws:void 0}],2:[function(e,t,n){function i(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var o=-1,a=1,r=0;i.Diff,i.prototype.diff_main=function(e,t,n,i){"undefined"==typeof i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var o=i;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[r,e]]:[];"undefined"==typeof n&&(n=!0);var a=n,l=this.diff_commonPrefix(e,t),s=e.substring(0,l);e=e.substring(l),t=t.substring(l),l=this.diff_commonSuffix(e,t);var p=e.substring(e.length-l);e=e.substring(0,e.length-l),t=t.substring(0,t.length-l);var c=this.diff_compute_(e,t,a,o);return s&&c.unshift([r,s]),p&&c.push([r,p]),this.diff_cleanupMerge(c),c},i.prototype.diff_compute_=function(e,t,n,i){var l;if(!e)return[[a,t]];if(!t)return[[o,e]];var s=e.length>t.length?e:t,p=e.length>t.length?t:e,c=s.indexOf(p);if(-1!=c)return l=[[a,s.substring(0,c)],[r,p],[a,s.substring(c+p.length)]],e.length>t.length&&(l[0][0]=l[2][0]=o),l;if(1==p.length)return[[o,e],[a,t]];var d=this.diff_halfMatch_(e,t);if(d){var u=d[0],h=d[1],m=d[2],S=d[3],f=d[4],_=this.diff_main(u,m,n,i),w=this.diff_main(h,S,n,i);return _.concat([[r,f]],w)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},i.prototype.diff_lineMode_=function(e,t,n){var i=this.diff_linesToChars_(e,t);e=i.chars1,t=i.chars2;var l=i.lineArray,s=this.diff_main(e,t,!1,n);this.diff_charsToLines_(s,l),this.diff_cleanupSemantic(s),s.push([r,""]);for(var p=0,c=0,d=0,u="",h="";p<s.length;){switch(s[p][0]){case a:d++,h+=s[p][1];break;case o:c++,u+=s[p][1];break;case r:if(c>=1&&d>=1){s.splice(p-c-d,c+d),p=p-c-d;for(var i=this.diff_main(u,h,!1,n),m=i.length-1;m>=0;m--)s.splice(p,0,i[m]);p+=i.length}d=0,c=0,u="",h=""}p++}return s.pop(),s},i.prototype.diff_bisect_=function(e,t,n){for(var i=e.length,r=t.length,l=Math.ceil((i+r)/2),s=l,p=2*l,c=new Array(p),d=new Array(p),u=0;p>u;u++)c[u]=-1,d[u]=-1;c[s+1]=0,d[s+1]=0;for(var h=i-r,m=h%2!=0,S=0,f=0,_=0,w=0,D=0;l>D&&!((new Date).getTime()>n);D++){for(var y=-D+S;D-f>=y;y+=2){var v,g=s+y;v=y==-D||y!=D&&c[g-1]<c[g+1]?c[g+1]:c[g-1]+1;for(var V=v-y;i>v&&r>V&&e.charAt(v)==t.charAt(V);)v++,V++;if(c[g]=v,v>i)f+=2;else if(V>r)S+=2;else if(m){var T=s+h-y;if(T>=0&&p>T&&-1!=d[T]){var R=i-d[T];if(v>=R)return this.diff_bisectSplit_(e,t,v,V,n)}}}for(var I=-D+_;D-w>=I;I+=2){var R,T=s+I;R=I==-D||I!=D&&d[T-1]<d[T+1]?d[T+1]:d[T-1]+1;for(var b=R-I;i>R&&r>b&&e.charAt(i-R-1)==t.charAt(r-b-1);)R++,b++;if(d[T]=R,R>i)w+=2;else if(b>r)_+=2;else if(!m){var g=s+h-I;if(g>=0&&p>g&&-1!=c[g]){var v=c[g],V=s+v-g;if(R=i-R,v>=R)return this.diff_bisectSplit_(e,t,v,V,n)}}}}return[[o,e],[a,t]]},i.prototype.diff_bisectSplit_=function(e,t,n,i,o){var a=e.substring(0,n),r=t.substring(0,i),l=e.substring(n),s=t.substring(i),p=this.diff_main(a,r,!1,o),c=this.diff_main(l,s,!1,o);return p.concat(c)},i.prototype.diff_linesToChars_=function(e,t){function n(e){for(var t="",n=0,a=-1,r=i.length;a<e.length-1;){a=e.indexOf("\n",n),-1==a&&(a=e.length-1);var l=e.substring(n,a+1);n=a+1,(o.hasOwnProperty?o.hasOwnProperty(l):void 0!==o[l])?t+=String.fromCharCode(o[l]):(t+=String.fromCharCode(r),o[l]=r,i[r++]=l)}return t}var i=[],o={};i[0]="";var a=n(e),r=n(t);return{chars1:a,chars2:r,lineArray:i}},i.prototype.diff_wordMode=function(e,t){var n=this.diff_linesToWords_(e,t),i=n.chars1,o=n.chars2,a=n.lineArray,r=this.diff_main(i,o,!1);return this.diff_charsToLines_(r,a),r},i.prototype.diff_linesToWords_=function(e,t){function n(e){for(var t=e.split(/(\s+|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&r.test(t[n])&&r.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t}function i(e){for(var t="",i=n(e),r=o.length,l=0,s=i.length;s>l;l++){var p=i[l];(a.hasOwnProperty?a.hasOwnProperty(p):void 0!==a[p])?t+=String.fromCharCode(a[p]):(t+=String.fromCharCode(r),a[p]=r,o[r++]=p)}return t}var o=[],a={};o[0]="";var r=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,l=i(e),s=i(t);return{chars1:l,chars2:s,lineArray:o}},i.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var i=e[n][1],o=[],a=0;a<i.length;a++)o[a]=t[i.charCodeAt(a)];e[n][1]=o.join("")}},i.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),o=i,a=0;o>n;)e.substring(a,o)==t.substring(a,o)?(n=o,a=n):i=o,o=Math.floor((i-n)/2+n);return o},i.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),o=i,a=0;o>n;)e.substring(e.length-o,e.length-a)==t.substring(t.length-o,t.length-a)?(n=o,a=n):i=o,o=Math.floor((i-n)/2+n);return o},i.prototype.diff_commonOverlap_=function(e,t){var n=e.length,i=t.length;if(0==n||0==i)return 0;n>i?e=e.substring(n-i):i>n&&(t=t.substring(0,n));var o=Math.min(n,i);if(e==t)return o;for(var a=0,r=1;;){var l=e.substring(o-r),s=t.indexOf(l);if(-1==s)return a;r+=s,(0==s||e.substring(o-r)==t.substring(0,r))&&(a=r,r++)}},i.prototype.diff_halfMatch_=function(e,t){function n(e,t,n){for(var i,o,a,l,s=e.substring(n,n+Math.floor(e.length/4)),p=-1,c="";-1!=(p=t.indexOf(s,p+1));){var d=r.diff_commonPrefix(e.substring(n),t.substring(p)),u=r.diff_commonSuffix(e.substring(0,n),t.substring(0,p));c.length<u+d&&(c=t.substring(p-u,p)+t.substring(p,p+d),i=e.substring(0,n-u),o=e.substring(n+d),a=t.substring(0,p-u),l=t.substring(p+d))}return 2*c.length>=e.length?[i,o,a,l,c]:null}if(this.Diff_Timeout<=0)return null;var i=e.length>t.length?e:t,o=e.length>t.length?t:e;if(i.length<4||2*o.length<i.length)return null;var a,r=this,l=n(i,o,Math.ceil(i.length/4)),s=n(i,o,Math.ceil(i.length/2));if(!l&&!s)return null;a=s?l&&l[4].length>s[4].length?l:s:l;var p,c,d,u;e.length>t.length?(p=a[0],c=a[1],d=a[2],u=a[3]):(d=a[0],u=a[1],p=a[2],c=a[3]);var h=a[4];return[p,c,d,u,h]},i.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],i=0,l=null,s=0,p=0,c=0,d=0,u=0;s<e.length;)e[s][0]==r?(n[i++]=s,p=d,c=u,d=0,u=0,l=e[s][1]):(e[s][0]==a?d+=e[s][1].length:u+=e[s][1].length,l&&l.length<=Math.max(p,c)&&l.length<=Math.max(d,u)&&(e.splice(n[i-1],0,[o,l]),e[n[i-1]+1][0]=a,i--,i--,s=i>0?n[i-1]:-1,p=0,c=0,d=0,u=0,l=null,t=!0)),s++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),s=1;s<e.length;){if(e[s-1][0]==o&&e[s][0]==a){var h=e[s-1][1],m=e[s][1],S=this.diff_commonOverlap_(h,m),f=this.diff_commonOverlap_(m,h);S>=f?(S>=h.length/2||S>=m.length/2)&&(e.splice(s,0,[r,m.substring(0,S)]),e[s-1][1]=h.substring(0,h.length-S),e[s+1][1]=m.substring(S),s++):(f>=h.length/2||f>=m.length/2)&&(e.splice(s,0,[r,h.substring(0,f)]),e[s-1][0]=a,e[s-1][1]=m.substring(0,m.length-f),e[s+1][0]=o,e[s+1][1]=h.substring(f),s++),s++}s++}},i.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),o=t.charAt(0),a=n.match(i.nonAlphaNumericRegex_),r=o.match(i.nonAlphaNumericRegex_),l=a&&n.match(i.whitespaceRegex_),s=r&&o.match(i.whitespaceRegex_),p=l&&n.match(i.linebreakRegex_),c=s&&o.match(i.linebreakRegex_),d=p&&e.match(i.blanklineEndRegex_),u=c&&t.match(i.blanklineStartRegex_);return d||u?5:p||c?4:a&&!l&&s?3:l||s?2:a||r?1:0}for(var n=1;n<e.length-1;){if(e[n-1][0]==r&&e[n+1][0]==r){var o=e[n-1][1],a=e[n][1],l=e[n+1][1],s=this.diff_commonSuffix(o,a);if(s){var p=a.substring(a.length-s);o=o.substring(0,o.length-s),a=p+a.substring(0,a.length-s),l=p+l}for(var c=o,d=a,u=l,h=t(o,a)+t(a,l);a.charAt(0)===l.charAt(0);){o+=a.charAt(0),a=a.substring(1)+l.charAt(0),l=l.substring(1);var m=t(o,a)+t(a,l);m>=h&&(h=m,c=o,d=a,u=l)}e[n-1][1]!=c&&(c?e[n-1][1]=c:(e.splice(n-1,1),n--),e[n][1]=d,u?e[n+1][1]=u:(e.splice(n+1,1),n--))}n++}},i.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,i.whitespaceRegex_=/\s/,i.linebreakRegex_=/[\r\n]/,i.blanklineEndRegex_=/\n\r?\n$/,i.blanklineStartRegex_=/^\r?\n\r?\n/,i.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],i=0,l=null,s=0,p=!1,c=!1,d=!1,u=!1;s<e.length;)e[s][0]==r?(e[s][1].length<this.Diff_EditCost&&(d||u)?(n[i++]=s,p=d,c=u,l=e[s][1]):(i=0,l=null),d=u=!1):(e[s][0]==o?u=!0:d=!0,l&&(p&&c&&d&&u||l.length<this.Diff_EditCost/2&&p+c+d+u==3)&&(e.splice(n[i-1],0,[o,l]),e[n[i-1]+1][0]=a,i--,l=null,p&&c?(d=u=!0,i=0):(i--,s=i>0?n[i-1]:-1,d=u=!1),t=!0)),s++;t&&this.diff_cleanupMerge(e)},i.prototype.diff_cleanupMerge=function(e){e.push([r,""]);for(var t,n=0,i=0,l=0,s="",p="";n<e.length;)switch(e[n][0]){case a:l++,p+=e[n][1],n++;break;case o:i++,s+=e[n][1],n++;break;case r:i+l>1?(0!==i&&0!==l&&(t=this.diff_commonPrefix(p,s),0!==t&&(n-i-l>0&&e[n-i-l-1][0]==r?e[n-i-l-1][1]+=p.substring(0,t):(e.splice(0,0,[r,p.substring(0,t)]),n++),p=p.substring(t),s=s.substring(t)),t=this.diff_commonSuffix(p,s),0!==t&&(e[n][1]=p.substring(p.length-t)+e[n][1],p=p.substring(0,p.length-t),s=s.substring(0,s.length-t))),0===i?e.splice(n-l,i+l,[a,p]):0===l?e.splice(n-i,i+l,[o,s]):e.splice(n-i-l,i+l,[o,s],[a,p]),n=n-i-l+(i?1:0)+(l?1:0)+1):0!==n&&e[n-1][0]==r?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,l=0,i=0,s="",p=""}""===e[e.length-1][1]&&e.pop();var c=!1;for(n=1;n<e.length-1;)e[n-1][0]==r&&e[n+1][0]==r&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),c=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),c=!0)),n++;c&&this.diff_cleanupMerge(e)},i.prototype.diff_xIndex=function(e,t){var n,i=0,r=0,l=0,s=0;for(n=0;n<e.length&&(e[n][0]!==a&&(i+=e[n][1].length),e[n][0]!==o&&(r+=e[n][1].length),!(i>t));n++)l=i,s=r;return e.length!=n&&e[n][0]===o?s:s+(t-l)},i.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,i=/</g,l=/>/g,s=/\n/g,p=0;p<e.length;p++){var c=e[p][0],d=e[p][1],u=d.replace(n,"&amp;").replace(i,"&lt;").replace(l,"&gt;").replace(s,"&para;<br>");switch(c){case a:t[p]='<ins style="background:#e6ffe6;">'+u+"</ins>";break;case o:t[p]='<del style="background:#ffe6e6;">'+u+"</del>";break;case r:t[p]="<span>"+u+"</span>"}}return t.join("")},i.prototype.diff_prettyCompactHtml=function(e){for(var t=[],n=0;n<e.length;n++){var i=0===n,l=n===e.length-1,s=e[n][0],p=e[n][1];switch(s){case a:t[n]='<ins style="background:#e6ffe6;">'+this.prepare_text_(p)+"</ins>";break;case o:t[n]='<del style="background:#ffe6e6;">'+this.prepare_text_(p)+"</del>";break;case r:t[n]="<span>"+this.truncate_context_(p,i,l)+"</span>"}}return t.join("")},i.prototype.prepare_text_=function(e){var t=/&/g,n=/</g,i=/>/g,o=/\n/g;return e.replace(t,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(o,"&para;<br>")},i.prototype.truncate_context_=function(e,t,n){var i=e.split(/\r\n|\r|\n/),o='<span class="dots">...</span>',a=i.length,r=4;return r>=a?this.prepare_text_(e):!t&&!n&&2*r>=a?this.prepare_text_(e):t?o+this.prepare_text_("\n"+i.slice(-r).join("\n")):n?this.prepare_text_(i.slice(0,r).join("\n")+"\n")+o:this.prepare_text_(i.slice(0,r).join("\n")+"\n")+o+this.prepare_text_("\n"+i.slice(-r).join("\n"))},i.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==a&&(t[n]=e[n][1]);return t.join("")},i.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==o&&(t[n]=e[n][1]);return t.join("")},i.prototype.diff_levenshtein=function(e){for(var t=0,n=0,i=0,l=0;l<e.length;l++){var s=e[l][0],p=e[l][1];switch(s){case a:n+=p.length;break;case o:i+=p.length;break;case r:t+=Math.max(n,i),n=0,i=0}}return t+=Math.max(n,i)},i.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case a:t[n]="+"+encodeURI(e[n][1]);break;case o:t[n]="-"+e[n][1].length;break;case r:t[n]="="+e[n][1].length}return t.join("	").replace(/%20/g," ")},i.prototype.diff_fromDelta=function(e,t){for(var n=[],i=0,l=0,s=t.split(/\t/g),p=0;p<s.length;p++){var c=s[p].substring(1);switch(s[p].charAt(0)){case"+":try{n[i++]=[a,decodeURI(c)]}catch(d){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var u=parseInt(c,10);if(isNaN(u)||0>u)throw new Error("Invalid number in diff_fromDelta: "+c);var h=e.substring(l,l+=u);"="==s[p].charAt(0)?n[i++]=[r,h]:n[i++]=[o,h];break;default:if(s[p])throw new Error("Invalid diff operation in diff_fromDelta: "+s[p])}}if(l!=e.length)throw new Error("Delta length ("+l+") does not equal source text length ("+e.length+").");return n},i.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},i.prototype.match_bitap_=function(e,t,n){function i(e,i){var o=e/t.length,r=Math.abs(n-i);return a.Match_Distance?o+r/a.Match_Distance:r?1:o}if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var o=this.match_alphabet_(t),a=this,r=this.Match_Threshold,l=e.indexOf(t,n);-1!=l&&(r=Math.min(i(0,l),r),l=e.lastIndexOf(t,n+t.length),-1!=l&&(r=Math.min(i(0,l),r)));var s=1<<t.length-1;l=-1;for(var p,c,d,u=t.length+e.length,h=0;h<t.length;h++){for(p=0,c=u;c>p;)i(h,n+c)<=r?p=c:u=c,c=Math.floor((u-p)/2+p);u=c;var m=Math.max(1,n-c+1),S=Math.min(n+c,e.length)+t.length,f=Array(S+2);f[S+1]=(1<<h)-1;for(var _=S;_>=m;_--){var w=o[e.charAt(_-1)];if(0===h?f[_]=(f[_+1]<<1|1)&w:f[_]=(f[_+1]<<1|1)&w|((d[_+1]|d[_])<<1|1)|d[_+1],f[_]&s){var D=i(h,_-1);if(r>=D){if(r=D,l=_-1,!(l>n))break;m=Math.max(1,2*n-l)}}}if(i(h+1,n)>r)break;d=f}return l},i.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(var n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},i.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var n=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var o=t.substring(e.start2-i,e.start2);o&&e.diffs.unshift([r,o]);var a=t.substring(e.start2+e.length1,e.start2+e.length1+i);a&&e.diffs.push([r,a]),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+a.length,e.length2+=o.length+a.length}},i.prototype.patch_make=function(e,t,n){var l,s;if("string"==typeof e&&"string"==typeof t&&"undefined"==typeof n)l=e,s=this.diff_main(l,t,!0),s.length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(e&&"object"==typeof e&&"undefined"==typeof t&&"undefined"==typeof n)s=e,l=this.diff_text1(s);else if("string"==typeof e&&t&&"object"==typeof t&&"undefined"==typeof n)l=e,s=t;else{if("string"!=typeof e||"string"!=typeof t||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");l=e,s=n}if(0===s.length)return[];for(var p=[],c=new i.patch_obj,d=0,u=0,h=0,m=l,S=l,f=0;f<s.length;f++){var _=s[f][0],w=s[f][1];switch(d||_===r||(c.start1=u,c.start2=h),_){case a:c.diffs[d++]=s[f],c.length2+=w.length,S=S.substring(0,h)+w+S.substring(h);break;case o:c.length1+=w.length,c.diffs[d++]=s[f],S=S.substring(0,h)+S.substring(h+w.length);break;case r:w.length<=2*this.Patch_Margin&&d&&s.length!=f+1?(c.diffs[d++]=s[f],c.length1+=w.length,c.length2+=w.length):w.length>=2*this.Patch_Margin&&d&&(this.patch_addContext_(c,m),p.push(c),c=new i.patch_obj,d=0,m=S,u=h)}_!==a&&(u+=w.length),_!==o&&(h+=w.length)}return d&&(this.patch_addContext_(c,m),p.push(c)),p},i.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n],a=new i.patch_obj;a.diffs=[];for(var r=0;r<o.diffs.length;r++)a.diffs[r]=o.diffs[r].slice();a.start1=o.start1,a.start2=o.start2,a.length1=o.length1,a.length2=o.length2,t[n]=a}return t},i.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var i=0,l=[],s=0;s<e.length;s++){var p,c=e[s].start2+i,d=this.diff_text1(e[s].diffs),u=-1;if(d.length>this.Match_MaxBits?(p=this.match_main(t,d.substring(0,this.Match_MaxBits),c),-1!=p&&(u=this.match_main(t,d.substring(d.length-this.Match_MaxBits),c+d.length-this.Match_MaxBits),(-1==u||p>=u)&&(p=-1))):p=this.match_main(t,d,c),-1==p)l[s]=!1,i-=e[s].length2-e[s].length1;else{l[s]=!0,i=p-c;var h;if(h=-1==u?t.substring(p,p+d.length):t.substring(p,u+this.Match_MaxBits),d==h)t=t.substring(0,p)+this.diff_text2(e[s].diffs)+t.substring(p+d.length);else{var m=this.diff_main(d,h,!1);if(d.length>this.Match_MaxBits&&this.diff_levenshtein(m)/d.length>this.Patch_DeleteThreshold)l[s]=!1;else{this.diff_cleanupSemanticLossless(m);for(var S,f=0,_=0;_<e[s].diffs.length;_++){var w=e[s].diffs[_];w[0]!==r&&(S=this.diff_xIndex(m,f)),w[0]===a?t=t.substring(0,p+S)+w[1]+t.substring(p+S):w[0]===o&&(t=t.substring(0,p+S)+t.substring(p+this.diff_xIndex(m,f+w[1].length))),w[0]!==o&&(f+=w[1].length)}}}}}return t=t.substring(n.length,t.length-n.length),[t,l]},i.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",i=1;t>=i;i++)n+=String.fromCharCode(i);for(var i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var o=e[0],a=o.diffs;if(0==a.length||a[0][0]!=r)a.unshift([r,n]),o.start1-=t,o.start2-=t,o.length1+=t,o.length2+=t;else if(t>a[0][1].length){var l=t-a[0][1].length;a[0][1]=n.substring(a[0][1].length)+a[0][1],o.start1-=l,o.start2-=l,o.length1+=l,o.length2+=l}if(o=e[e.length-1],a=o.diffs,0==a.length||a[a.length-1][0]!=r)a.push([r,n]),o.length1+=t,o.length2+=t;else if(t>a[a.length-1][1].length){var l=t-a[a.length-1][1].length;a[a.length-1][1]+=n.substring(0,l),o.length1+=l,o.length2+=l}return n},i.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var l=e[n];e.splice(n--,1);for(var s=l.start1,p=l.start2,c="";0!==l.diffs.length;){var d=new i.patch_obj,u=!0;for(d.start1=s-c.length,d.start2=p-c.length,""!==c&&(d.length1=d.length2=c.length,d.diffs.push([r,c]));0!==l.diffs.length&&d.length1<t-this.Patch_Margin;){var h=l.diffs[0][0],m=l.diffs[0][1];h===a?(d.length2+=m.length,p+=m.length,d.diffs.push(l.diffs.shift()),u=!1):h===o&&1==d.diffs.length&&d.diffs[0][0]==r&&m.length>2*t?(d.length1+=m.length,s+=m.length,u=!1,d.diffs.push([h,m]),l.diffs.shift()):(m=m.substring(0,t-d.length1-this.Patch_Margin),d.length1+=m.length,s+=m.length,h===r?(d.length2+=m.length,p+=m.length):u=!1,d.diffs.push([h,m]),m==l.diffs[0][1]?l.diffs.shift():l.diffs[0][1]=l.diffs[0][1].substring(m.length))}c=this.diff_text2(d.diffs),c=c.substring(c.length-this.Patch_Margin);var S=this.diff_text1(l.diffs).substring(0,this.Patch_Margin);""!==S&&(d.length1+=S.length,d.length2+=S.length,0!==d.diffs.length&&d.diffs[d.diffs.length-1][0]===r?d.diffs[d.diffs.length-1][1]+=S:d.diffs.push([r,S])),u||e.splice(++n,0,d)}}},i.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},i.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split("\n"),l=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;l<n.length;){var p=n[l].match(s);if(!p)throw new Error("Invalid patch string: "+n[l]);var c=new i.patch_obj;for(t.push(c),c.start1=parseInt(p[1],10),""===p[2]?(c.start1--,c.length1=1):"0"==p[2]?c.length1=0:(c.start1--,c.length1=parseInt(p[2],10)),c.start2=parseInt(p[3],10),""===p[4]?(c.start2--,c.length2=1):"0"==p[4]?c.length2=0:(c.start2--,c.length2=parseInt(p[4],10)),l++;l<n.length;){var d=n[l].charAt(0);try{var u=decodeURI(n[l].substring(1))}catch(h){throw new Error("Illegal escape in patch_fromText: "+u)}if("-"==d)c.diffs.push([o,u]);else if("+"==d)c.diffs.push([a,u]);else if(" "==d)c.diffs.push([r,u]);else{if("@"==d)break;if(""!==d)throw new Error('Invalid patch mode "'+d+'" in: '+u)}l++}}return t},i.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},i.patch_obj.prototype.toString=function(){var e,t;e=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,t=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;for(var n,i=["@@ -"+e+" +"+t+" @@\n"],l=0;l<this.diffs.length;l++){switch(this.diffs[l][0]){case a:n="+";break;case o:n="-";break;case r:n=" "}i[l+1]=n+encodeURI(this.diffs[l][1])+"\n"}return i.join("").replace(/%20/g," ")},t.exports=i},{}],3:[function(e,t,n){var i=new(e("../../diffMatchPatch"));t.exports={tests:function(e,t){var n=this,i="";return _.isString(e)?i+=t?n._error(e):n._escapeAndConvertToHtml(e):(_.each(e.errors,function(e){i+=n._error(e.message,e.stack,e.expected,e.actual)}),_.each(e.tests,function(e){i+=n._test(e)})),i},_error:function(e,t,n,i){var o=this,a="";return(n||i)&&(a=o._diff(n,i)+"<br/>"),'<section class="error">'+a+'<section class="header">'+o._escapeAndConvertToHtml(e)+"</section>"+_.reduce(t,function(e,t){return e+=o._line(t)},"")+"</section>"},_line:function(e){var t=this._escape(e.file),n=e.context&&this._escape(e.context)||"";return t?'<section class="line">at '+(n?n+" ":"")+'<a class="loc" data-file="'+t+'" data-loc="'+e.loc+'">'+t+":"+e.loc+"</a></section>":""},_test:function(e){var t=this,n=e.path&&_.last(e.path)||"",i=_.initial(e.path||[]).join(" ");n=n&&" "+t._escape(n),i=i&&" "+t._escape(i);var o=_.isNumber(e.time)?" "+e.time+" ms":"",a=t._escape(e.file);return'<section class="test'+(e.failing?" failing":"")+'"><section class="header"><a class="'+(e.loc?"loc":"text")+'" data-file="'+a+'" data-loc="'+e.loc+'">'+e.file+'</a><span class="suite">'+i+'</span><span class="name">'+n+"</span>"+(o?'<span class="time">'+o+"</span>":"")+"</section>"+_.reduce(e.errors,function(e,n){return e+=t._error(n.message,n.stack,n.expected,n.actual)},"")+(e.messages&&e.messages.length?_.reduce(e.messages,function(e,n){return e+='<section class="message '+n.type+'"><span class="text">'+t._escapeAndConvertToHtml(n.text)+"&nbsp;</span>"+t._line(n)+"</section>"},'<section class="console"><section class="header">From console:</section>')+"</section>":"")+"</section>"},_diff:function(e,t){try{return'<section class="diff" style="white-space: pre;">'+i[i.diff_prettyCompactHtml?"diff_prettyCompactHtml":"diff_prettyHtml"](i.diff_wordMode(e||"",t||"")).replace(/&para;<br>/g,"<br>").replace(/style="background:#e6ffe6;"/g,'class="status-added"').replace(/style="background:#ffe6e6;"/g,'class="status-removed"')+"</section>"}catch(n){return""}},_escape:function(e){return(e||"").toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},_escapeAndConvertToHtml:function(e){return this._escape(e).replace(/(?:\r\n|\r|\n)/g,"<br/>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/\s/g,"&nbsp;")}}},{"../../diffMatchPatch":2}],4:[function(e,t,n){t.exports={lineState:{notCovered:1,fullyCovered:2,partiallyCovered:3,errorSource:4,errorPath:5}}},{}],5:[function(e,t,n){var i=function(e){return e&&e.replace(/^\s+|\s+$/gm,"")},o=["January","February","March","April","May","June","July","August","September","October","November","December"];t.exports={normalizePath:function(e){return"win32"===process.platform&&e?e.replace(/\\/g,"/"):e},parseKey:function(e){var t={};if(e){var n=e.split(":");2===n.length&&(e=i(n[1]))}var a=new Buffer(e,"base64").toString().split("\n");t.licenseeName=a[0],t.licenseTags=a[1];var r=t.licenseTags.split(",");r.length>=1&&(t.licenseeEmail=r[0]),r.length>=2&&(t.licensedProduct=r[1]),t.expirationDateString=a[2],t.licenseSignature=a[3];try{var l=t.expirationDateString.split("/");t.expirationDateStringFormatted=l[0]+" "+o[parseInt(l[1],10)-1]+" "+l[2]}catch(s){t.expirationDateStringFormatted=t.expirationDateString}return t},format:function(e,t){return e.replace(/\{([0-9a-zA-Z_]+)\}/g,function(n,i,o){var a;return"{"===e[o-1]&&"}"===e[o+n.length]?i:(a=t.hasOwnProperty(i)?t[i]:null,null===a||void 0===a?"":a)})},validPackageName:function(e){if(e&&!e.match(/^\./)&&!e.match(/^_/)&&!(e.length>214||e.toLowerCase()!==e||/[~'!()*]/.test(e.split("/").slice(-1)[0]))){if(encodeURIComponent(e)===e)return e;var t=e.match(/^(?:@([^\/]+?)[\/])?([^\/]+?)$/);if(t){var n=t[1],i=t[2];if(encodeURIComponent(n)===n&&encodeURIComponent(i)===i)return e}}}}},{}],6:[function(e,t,n){if(global._=e("lodash"),global.Q=e("q"),global.EventEmitter=e("events").EventEmitter,Q.longStackSupport=!1,global.Promise||(global.Promise=Q.Promise),_.extend(_,e("./utils")),_.str=e("underscore.string"),_.mixin(_.str.exports()),!global.wallabyCoreClient){var i=e("module").Module.prototype,o=i._compile,a="wq_sen",r="r.js",l=a+"de"+r;i._compile=function(){return _.endsWith(arguments[1],l)&&(arguments[0]=new Buffer(arguments[0].substr(arguments[0].lastIndexOf("//# sourceMappingURL=data:application/json;base64,")+50),"base64").toString()),o.apply(this,arguments)}}},{"./utils":7,events:void 0,lodash:void 0,module:void 0,q:void 0,"underscore.string":void 0}],7:[function(e,t,n){var i=e("path"),o=/^\s*(\/\*\*?(.|\r?\n)*?\*\/)/,a=/^\s*/,r=/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g;
t.exports={randomId:function(){return Math.random().toString(36).substr(2,5)},noopTrue:function(){return!0},noopTruePromise:function(){return Q.fcall(this.noopTrue)},isPatch:function(e){return e&&e.length>2&&"@"===e[0]&&"@"===e[1]},isLevelUpRelativePath:function(e){return e&&"."===e[0]&&"."===e[1]},docBlockComment:function(e){var t=e.match(o);return t?t[0].replace(a,"")||"":""},textIndexPosition:function(e,t){var n=this.textLines(e,t);return{line:n.length,column:n[n.length-1].length}},textLines:function(e,t){return e=_.isUndefined(t)?e:e.substr(0,t),e.split(/\r\n|\r|\n/)},verifyLocalOrigin:function(t,n){if(!t)return!0;var i=!1;try{var o=e("url").parse(t).hostname;i="localhost"===o||"0.0.0.0"===o||"127.0.0.1"===o||"::1"===o}catch(a){}return i||n||console.error("wallaby.js refused to accept connection from "+t),i},patchModule:function(t,n){var i=e("module").Module.prototype,o=i.require;i.require=function(e){return e===t?n(o.bind(this)):o.call(this,e)}},requireModuleFrom:function(t,n){try{return e(i.join(t,"node_modules",n))}catch(o){var a=e("module"),r=new a(".",null);return r.filename=i.join(t,"wallaby.js"),r.paths=a._nodeModulePaths(t),a._load(n,r,!1)}},resolveModulePathFrom:function(t,n){var o=e("module"),a=new o(".",null);return a.filename=i.join(t,"wallaby.js"),a.paths=o._nodeModulePaths(t),o._resolveFilename(n,a,!1)},nodeModulePaths:function(t){var n=e("module");return n._nodeModulePaths(t)},patchBabelResolve:function(e){var t=this.nodeModulePaths(e);this.patchModule("resolve",function(e){var n=e("resolve"),i=n.sync;return n.sync=function(e,n){return~e.indexOf("babel")&&n&&(arguments[1].paths=(n.paths||[]).concat(t)),i.apply(this,arguments)},n})},hasAnsi:function(e){return e&&"string"==typeof e&&e.match(r)},removeAnsi:function(e){return e&&"string"==typeof e?e.replace(r,""):e},copyToClipboard:function(t){var n=function(e){return e&&console.warn("Failed to copy to clipboard. "+(e&&e.message))};try{e("copy-paste").copy(t,n)}catch(i){n(i)}}}},{"copy-paste":void 0,module:void 0,path:void 0,url:void 0}]},{},[1]);